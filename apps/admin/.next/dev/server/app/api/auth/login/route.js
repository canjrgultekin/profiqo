/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/login/route";
exports.ids = ["app/api/auth/login/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=E%3A%5Csource%5Ccanjrgultekin%5Cprofiqo%5Capps%5Cadmin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Csource%5Ccanjrgultekin%5Cprofiqo%5Capps%5Cadmin&isDev=true&tsconfigPath=&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=E%3A%5Csource%5Ccanjrgultekin%5Cprofiqo%5Capps%5Cadmin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Csource%5Ccanjrgultekin%5Cprofiqo%5Capps%5Cadmin&isDev=true&tsconfigPath=&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_server_app_render_manifests_singleton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/server/app-render/manifests-singleton */ \"(rsc)/./node_modules/next/dist/server/app-render/manifests-singleton.js\");\n/* harmony import */ var next_dist_server_app_render_manifests_singleton__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_manifests_singleton__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var E_source_canjrgultekin_profiqo_apps_admin_src_app_api_auth_login_route_ts__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./src/app/api/auth/login/route.ts */ \"(rsc)/./src/app/api/auth/login/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/login/route\",\n        pathname: \"/api/auth/login\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/login/route\"\n    },\n    distDir: \".next\\\\dev\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"E:\\\\source\\\\canjrgultekin\\\\profiqo\\\\apps\\\\admin\\\\src\\\\app\\\\api\\\\auth\\\\login\\\\route.ts\",\n    nextConfigOutput,\n    userland: E_source_canjrgultekin_profiqo_apps_admin_src_app_api_auth_login_route_ts__WEBPACK_IMPORTED_MODULE_17__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    if (routeModule.isDev) {\n        (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.addRequestMeta)(req, 'devRequestTimingInternalsEnd', process.hrtime.bigint());\n    }\n    let srcPage = \"/api/auth/login/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, parsedUrl, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname, clientReferenceManifest, serverActionsManifest } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_6__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    const render404 = async ()=>{\n        // TODO: should route-module itself handle rendering the 404\n        if (routerServerContext == null ? void 0 : routerServerContext.render404) {\n            await routerServerContext.render404(req, res, parsedUrl, false);\n        } else {\n            res.end('This page could not be found');\n        }\n        return null;\n    };\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                if (nextConfig.experimental.adapterPath) {\n                    return await render404();\n                }\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_15__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isStaticGeneration = isIsr && !supportsDynamicResponse;\n    // Before rendering (which initializes component tree modules), we have to\n    // set the reference manifests to our global store so Server Action's\n    // encryption util can access to them at the top level of the page module.\n    if (serverActionsManifest && clientReferenceManifest) {\n        (0,next_dist_server_app_render_manifests_singleton__WEBPACK_IMPORTED_MODULE_5__.setManifestsSingleton)({\n            page: srcPage,\n            clientReferenceManifest,\n            serverActionsManifest\n        });\n    }\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            cacheComponents: Boolean(nextConfig.cacheComponents),\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: nextConfig.cacheLife,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext, silenceLog)=>routeModule.onRequestError(req, error, errorContext, silenceLog, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_7__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_7__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_8__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_8__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_9__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${srcPage}`);\n                }\n            });\n        };\n        const isMinimalMode = Boolean( false || (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode'));\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!isMinimalMode && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_12__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_14__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_14__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_14__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_16__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_11__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        const silenceLog = false;\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_10__.getRevalidateReason)({\n                                isStaticGeneration,\n                                isOnDemandRevalidate\n                            })\n                        }, silenceLog, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil,\n                isMinimalMode\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_16__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!isMinimalMode) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_12__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!(isMinimalMode && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_14__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_13__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_11__.sendResponse)(nodeNextReq, nodeNextRes, // @ts-expect-error - Argument of type 'Buffer<ArrayBufferLike>' is not assignable to parameter of type 'BodyInit | null | undefined'.\n            new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_9__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${srcPage}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_15__.NoFallbackError)) {\n            const silenceLog = false;\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_10__.getRevalidateReason)({\n                    isStaticGeneration,\n                    isOnDemandRevalidate\n                })\n            }, silenceLog, routerServerContext);\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_11__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGbG9naW4lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlLnRzJmFwcERpcj1FJTNBJTVDc291cmNlJTVDY2FuanJndWx0ZWtpbiU1Q3Byb2ZpcW8lNUNhcHBzJTVDYWRtaW4lNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUUlM0ElNUNzb3VyY2UlNUNjYW5qcmd1bHRla2luJTVDcHJvZmlxbyU1Q2FwcHMlNUNhZG1pbiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD0mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEJmlzR2xvYmFsTm90Rm91bmRFbmFibGVkPSEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNFO0FBQ1A7QUFDZ0I7QUFDVDtBQUNLO0FBQ21DO0FBQ2pEO0FBQ087QUFDZjtBQUNzQztBQUN6QjtBQUNNO0FBQ0M7QUFDaEI7QUFDZ0Q7QUFDbEg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYSxZQUFvQyxJQUFJLENBQUU7QUFDdkQsd0JBQXdCLE1BQXVDO0FBQy9EO0FBQ0E7QUFDQSxZQUFZO0FBQ1os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QUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHdGQUEyQjtBQUN2RDtBQUNBLCtCQUErQiw0RUFBc0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsMEZBQXFCO0FBQ2xFO0FBQ0Esa0JBQWtCLDZFQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsNkVBQTZFLGdGQUFjO0FBQzNGLGlDQUFpQyxRQUFRLEVBQUUsUUFBUTtBQUNuRCwwQkFBMEIsdUVBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxNQUFNO0FBQ04sNkJBQTZCLDZGQUFlO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsNEZBQW1CO0FBQ3JEO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZFQUFZO0FBQzFCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCB7IGFkZFJlcXVlc3RNZXRhLCBnZXRSZXF1ZXN0TWV0YSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JlcXVlc3QtbWV0YVwiO1xuaW1wb3J0IHsgZ2V0VHJhY2VyLCBTcGFuS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS90cmFjZXJcIjtcbmltcG9ydCB7IHNldE1hbmlmZXN0c1NpbmdsZXRvbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvbWFuaWZlc3RzLXNpbmdsZXRvblwiO1xuaW1wb3J0IHsgbm9ybWFsaXplQXBwUGF0aCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvYXBwLXBhdGhzXCI7XG5pbXBvcnQgeyBOb2RlTmV4dFJlcXVlc3QsIE5vZGVOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9iYXNlLWh0dHAvbm9kZVwiO1xuaW1wb3J0IHsgTmV4dFJlcXVlc3RBZGFwdGVyLCBzaWduYWxGcm9tTm9kZVJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3NwZWMtZXh0ZW5zaW9uL2FkYXB0ZXJzL25leHQtcmVxdWVzdFwiO1xuaW1wb3J0IHsgQmFzZVNlcnZlclNwYW4gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZXRSZXZhbGlkYXRlUmVhc29uIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvaW5zdHJ1bWVudGF0aW9uL3V0aWxzXCI7XG5pbXBvcnQgeyBzZW5kUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9zZW5kLXJlc3BvbnNlXCI7XG5pbXBvcnQgeyBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMsIHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvdXRpbHNcIjtcbmltcG9ydCB7IGdldENhY2hlQ29udHJvbEhlYWRlciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9jYWNoZS1jb250cm9sXCI7XG5pbXBvcnQgeyBJTkZJTklURV9DQUNIRSwgTkVYVF9DQUNIRV9UQUdTX0hFQURFUiB9IGZyb20gXCJuZXh0L2Rpc3QvbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTm9GYWxsYmFja0Vycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL25vLWZhbGxiYWNrLWVycm9yLmV4dGVybmFsXCI7XG5pbXBvcnQgeyBDYWNoZWRSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXNwb25zZS1jYWNoZVwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkU6XFxcXHNvdXJjZVxcXFxjYW5qcmd1bHRla2luXFxcXHByb2ZpcW9cXFxcYXBwc1xcXFxhZG1pblxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXGxvZ2luXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL2xvZ2luL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXV0aC9sb2dpblwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXV0aC9sb2dpbi9yb3V0ZVwiXG4gICAgfSxcbiAgICBkaXN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfRElTVF9ESVIgfHwgJycsXG4gICAgcmVsYXRpdmVQcm9qZWN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfUFJPSkVDVF9ESVIgfHwgJycsXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJFOlxcXFxzb3VyY2VcXFxcY2FuanJndWx0ZWtpblxcXFxwcm9maXFvXFxcXGFwcHNcXFxcYWRtaW5cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcYXV0aFxcXFxsb2dpblxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzLCBjdHgpIHtcbiAgICBpZiAocm91dGVNb2R1bGUuaXNEZXYpIHtcbiAgICAgICAgYWRkUmVxdWVzdE1ldGEocmVxLCAnZGV2UmVxdWVzdFRpbWluZ0ludGVybmFsc0VuZCcsIHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCgpKTtcbiAgICB9XG4gICAgbGV0IHNyY1BhZ2UgPSBcIi9hcGkvYXV0aC9sb2dpbi9yb3V0ZVwiO1xuICAgIC8vIHR1cmJvcGFjayBkb2Vzbid0IG5vcm1hbGl6ZSBgL2luZGV4YCBpbiB0aGUgcGFnZSBuYW1lXG4gICAgLy8gc28gd2UgbmVlZCB0byB0byBwcm9jZXNzIGR5bmFtaWMgcm91dGVzIHByb3Blcmx5XG4gICAgLy8gVE9ETzogZml4IHR1cmJvcGFjayBwcm92aWRpbmcgZGlmZmVyaW5nIHZhbHVlIGZyb20gd2VicGFja1xuICAgIGlmIChwcm9jZXNzLmVudi5UVVJCT1BBQ0spIHtcbiAgICAgICAgc3JjUGFnZSA9IHNyY1BhZ2UucmVwbGFjZSgvXFwvaW5kZXgkLywgJycpIHx8ICcvJztcbiAgICB9IGVsc2UgaWYgKHNyY1BhZ2UgPT09ICcvaW5kZXgnKSB7XG4gICAgICAgIC8vIHdlIGFsd2F5cyBub3JtYWxpemUgL2luZGV4IHNwZWNpZmljYWxseVxuICAgICAgICBzcmNQYWdlID0gJy8nO1xuICAgIH1cbiAgICBjb25zdCBtdWx0aVpvbmVEcmFmdE1vZGUgPSBwcm9jZXNzLmVudi5fX05FWFRfTVVMVElfWk9ORV9EUkFGVF9NT0RFO1xuICAgIGNvbnN0IHByZXBhcmVSZXN1bHQgPSBhd2FpdCByb3V0ZU1vZHVsZS5wcmVwYXJlKHJlcSwgcmVzLCB7XG4gICAgICAgIHNyY1BhZ2UsXG4gICAgICAgIG11bHRpWm9uZURyYWZ0TW9kZVxuICAgIH0pO1xuICAgIGlmICghcHJlcGFyZVJlc3VsdCkge1xuICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwMDtcbiAgICAgICAgcmVzLmVuZCgnQmFkIFJlcXVlc3QnKTtcbiAgICAgICAgY3R4LndhaXRVbnRpbCA9PSBudWxsID8gdm9pZCAwIDogY3R4LndhaXRVbnRpbC5jYWxsKGN0eCwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyBidWlsZElkLCBwYXJhbXMsIG5leHRDb25maWcsIHBhcnNlZFVybCwgaXNEcmFmdE1vZGUsIHByZXJlbmRlck1hbmlmZXN0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0LCBpc09uRGVtYW5kUmV2YWxpZGF0ZSwgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsIHJlc29sdmVkUGF0aG5hbWUsIGNsaWVudFJlZmVyZW5jZU1hbmlmZXN0LCBzZXJ2ZXJBY3Rpb25zTWFuaWZlc3QgfSA9IHByZXBhcmVSZXN1bHQ7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNyY1BhZ2UgPSBub3JtYWxpemVBcHBQYXRoKHNyY1BhZ2UpO1xuICAgIGxldCBpc0lzciA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV0gfHwgcHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICBjb25zdCByZW5kZXI0MDQgPSBhc3luYyAoKT0+e1xuICAgICAgICAvLyBUT0RPOiBzaG91bGQgcm91dGUtbW9kdWxlIGl0c2VsZiBoYW5kbGUgcmVuZGVyaW5nIHRoZSA0MDRcbiAgICAgICAgaWYgKHJvdXRlclNlcnZlckNvbnRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IHJvdXRlclNlcnZlckNvbnRleHQucmVuZGVyNDA0KSB7XG4gICAgICAgICAgICBhd2FpdCByb3V0ZXJTZXJ2ZXJDb250ZXh0LnJlbmRlcjQwNChyZXEsIHJlcywgcGFyc2VkVXJsLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMuZW5kKCdUaGlzIHBhZ2UgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBpZiAoaXNJc3IgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNvbnN0IGlzUHJlcmVuZGVyZWQgPSBCb29sZWFuKHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tyZXNvbHZlZFBhdGhuYW1lXSk7XG4gICAgICAgIGNvbnN0IHByZXJlbmRlckluZm8gPSBwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXTtcbiAgICAgICAgaWYgKHByZXJlbmRlckluZm8pIHtcbiAgICAgICAgICAgIGlmIChwcmVyZW5kZXJJbmZvLmZhbGxiYWNrID09PSBmYWxzZSAmJiAhaXNQcmVyZW5kZXJlZCkge1xuICAgICAgICAgICAgICAgIGlmIChuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5hZGFwdGVyUGF0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgcmVuZGVyNDA0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb0ZhbGxiYWNrRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgY2FjaGVLZXkgPSBudWxsO1xuICAgIGlmIChpc0lzciAmJiAhcm91dGVNb2R1bGUuaXNEZXYgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNhY2hlS2V5ID0gcmVzb2x2ZWRQYXRobmFtZTtcbiAgICAgICAgLy8gZW5zdXJlIC9pbmRleCBhbmQgLyBpcyBub3JtYWxpemVkIHRvIG9uZSBrZXlcbiAgICAgICAgY2FjaGVLZXkgPSBjYWNoZUtleSA9PT0gJy9pbmRleCcgPyAnLycgOiBjYWNoZUtleTtcbiAgICB9XG4gICAgY29uc3Qgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UgPSAvLyBJZiB3ZSdyZSBpbiBkZXZlbG9wbWVudCwgd2UgYWx3YXlzIHN1cHBvcnQgZHluYW1pYyBIVE1MXG4gICAgcm91dGVNb2R1bGUuaXNEZXYgPT09IHRydWUgfHwgLy8gSWYgdGhpcyBpcyBub3QgU1NHIG9yIGRvZXMgbm90IGhhdmUgc3RhdGljIHBhdGhzLCB0aGVuIGl0IHN1cHBvcnRzXG4gICAgLy8gZHluYW1pYyBIVE1MLlxuICAgICFpc0lzcjtcbiAgICAvLyBUaGlzIGlzIGEgcmV2YWxpZGF0aW9uIHJlcXVlc3QgaWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljXG4gICAgLy8gcGFnZSBhbmQgaXQgaXMgbm90IGJlaW5nIHJlc3VtZWQgZnJvbSBhIHBvc3Rwb25lZCByZW5kZXIgYW5kXG4gICAgLy8gaXQgaXMgbm90IGEgZHluYW1pYyBSU0MgcmVxdWVzdCB0aGVuIGl0IGlzIGEgcmV2YWxpZGF0aW9uXG4gICAgLy8gcmVxdWVzdC5cbiAgICBjb25zdCBpc1N0YXRpY0dlbmVyYXRpb24gPSBpc0lzciAmJiAhc3VwcG9ydHNEeW5hbWljUmVzcG9uc2U7XG4gICAgLy8gQmVmb3JlIHJlbmRlcmluZyAod2hpY2ggaW5pdGlhbGl6ZXMgY29tcG9uZW50IHRyZWUgbW9kdWxlcyksIHdlIGhhdmUgdG9cbiAgICAvLyBzZXQgdGhlIHJlZmVyZW5jZSBtYW5pZmVzdHMgdG8gb3VyIGdsb2JhbCBzdG9yZSBzbyBTZXJ2ZXIgQWN0aW9uJ3NcbiAgICAvLyBlbmNyeXB0aW9uIHV0aWwgY2FuIGFjY2VzcyB0byB0aGVtIGF0IHRoZSB0b3AgbGV2ZWwgb2YgdGhlIHBhZ2UgbW9kdWxlLlxuICAgIGlmIChzZXJ2ZXJBY3Rpb25zTWFuaWZlc3QgJiYgY2xpZW50UmVmZXJlbmNlTWFuaWZlc3QpIHtcbiAgICAgICAgc2V0TWFuaWZlc3RzU2luZ2xldG9uKHtcbiAgICAgICAgICAgIHBhZ2U6IHNyY1BhZ2UsXG4gICAgICAgICAgICBjbGllbnRSZWZlcmVuY2VNYW5pZmVzdCxcbiAgICAgICAgICAgIHNlcnZlckFjdGlvbnNNYW5pZmVzdFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZCB8fCAnR0VUJztcbiAgICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIoKTtcbiAgICBjb25zdCBhY3RpdmVTcGFuID0gdHJhY2VyLmdldEFjdGl2ZVNjb3BlU3BhbigpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgIHJlbmRlck9wdHM6IHtcbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbDoge1xuICAgICAgICAgICAgICAgIGF1dGhJbnRlcnJ1cHRzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmF1dGhJbnRlcnJ1cHRzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhY2hlQ29tcG9uZW50czogQm9vbGVhbihuZXh0Q29uZmlnLmNhY2hlQ29tcG9uZW50cyksXG4gICAgICAgICAgICBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSxcbiAgICAgICAgICAgIGluY3JlbWVudGFsQ2FjaGU6IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2luY3JlbWVudGFsQ2FjaGUnKSxcbiAgICAgICAgICAgIGNhY2hlTGlmZVByb2ZpbGVzOiBuZXh0Q29uZmlnLmNhY2hlTGlmZSxcbiAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbCxcbiAgICAgICAgICAgIG9uQ2xvc2U6IChjYik9PntcbiAgICAgICAgICAgICAgICByZXMub24oJ2Nsb3NlJywgY2IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQWZ0ZXJUYXNrRXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9uSW5zdHJ1bWVudGF0aW9uUmVxdWVzdEVycm9yOiAoZXJyb3IsIF9yZXF1ZXN0LCBlcnJvckNvbnRleHQsIHNpbGVuY2VMb2cpPT5yb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVycm9yLCBlcnJvckNvbnRleHQsIHNpbGVuY2VMb2csIHJvdXRlclNlcnZlckNvbnRleHQpXG4gICAgICAgIH0sXG4gICAgICAgIHNoYXJlZENvbnRleHQ6IHtcbiAgICAgICAgICAgIGJ1aWxkSWRcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9kZU5leHRSZXEgPSBuZXcgTm9kZU5leHRSZXF1ZXN0KHJlcSk7XG4gICAgY29uc3Qgbm9kZU5leHRSZXMgPSBuZXcgTm9kZU5leHRSZXNwb25zZShyZXMpO1xuICAgIGNvbnN0IG5leHRSZXEgPSBOZXh0UmVxdWVzdEFkYXB0ZXIuZnJvbU5vZGVOZXh0UmVxdWVzdChub2RlTmV4dFJlcSwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZShyZXMpKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBpbnZva2VSb3V0ZU1vZHVsZSA9IGFzeW5jIChzcGFuKT0+e1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlTW9kdWxlLmhhbmRsZShuZXh0UmVxLCBjb250ZXh0KS5maW5hbGx5KCgpPT57XG4gICAgICAgICAgICAgICAgaWYgKCFzcGFuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHAuc3RhdHVzX2NvZGUnOiByZXMuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgJ25leHQucnNjJzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByb290U3BhbkF0dHJpYnV0ZXMgPSB0cmFjZXIuZ2V0Um9vdFNwYW5BdHRyaWJ1dGVzKCk7XG4gICAgICAgICAgICAgICAgLy8gV2Ugd2VyZSB1bmFibGUgdG8gZ2V0IGF0dHJpYnV0ZXMsIHByb2JhYmx5IE9URUwgaXMgbm90IGVuYWJsZWRcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3RTcGFuQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpICE9PSBCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5leHBlY3RlZCByb290IHNwYW4gdHlwZSAnJHtyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpfScuIFBsZWFzZSByZXBvcnQgdGhpcyBOZXh0LmpzIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvbmV4dC5qc2ApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5yb3V0ZScpO1xuICAgICAgICAgICAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gYCR7bWV0aG9kfSAke3JvdXRlfWA7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnNwYW5fbmFtZSc6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShuYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUoYCR7bWV0aG9kfSAke3NyY1BhZ2V9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGlzTWluaW1hbE1vZGUgPSBCb29sZWFuKHByb2Nlc3MuZW52Lk1JTklNQUxfTU9ERSB8fCBnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpKTtcbiAgICAgICAgY29uc3QgaGFuZGxlUmVzcG9uc2UgPSBhc3luYyAoY3VycmVudFNwYW4pPT57XG4gICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfdmFsdWU7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZUdlbmVyYXRvciA9IGFzeW5jICh7IHByZXZpb3VzQ2FjaGVFbnRyeSB9KT0+e1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNNaW5pbWFsTW9kZSAmJiBpc09uRGVtYW5kUmV2YWxpZGF0ZSAmJiByZXZhbGlkYXRlT25seUdlbmVyYXRlZCAmJiAhcHJldmlvdXNDYWNoZUVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uLWRlbWFuZCByZXZhbGlkYXRlIGFsd2F5cyBzZXRzIHRoaXMgaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCd4LW5leHRqcy1jYWNoZScsICdSRVZBTElEQVRFRCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmVuZCgnVGhpcyBwYWdlIGNvdWxkIG5vdCBiZSBmb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBpbnZva2VSb3V0ZU1vZHVsZShjdXJyZW50U3Bhbik7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5mZXRjaE1ldHJpY3MgPSBjb250ZXh0LnJlbmRlck9wdHMuZmV0Y2hNZXRyaWNzO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGVuZGluZ1dhaXRVbnRpbCA9IGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsO1xuICAgICAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHVzaW5nIHByb3ZpZGVkIHdhaXRVbnRpbCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQncyBub3Qgd2UgZmFsbGJhY2sgdG8gc2VuZFJlc3BvbnNlJ3MgaGFuZGxpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdXYWl0VW50aWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdHgud2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LndhaXRVbnRpbChwZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nV2FpdFVudGlsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlVGFncyA9IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRUYWdzO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWMgcmVzcG9uc2UsIHdlIGNhbiBjYWNoZSBpdCBzbyBsb25nXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIGl0J3Mgbm90IGVkZ2UuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lzcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvcHkgdGhlIGhlYWRlcnMgZnJvbSB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhyZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZVRhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzW05FWFRfQ0FDSEVfVEFHU19IRUFERVJdID0gY2FjaGVUYWdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWFkZXJzWydjb250ZW50LXR5cGUnXSAmJiBibG9iLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzWydjb250ZW50LXR5cGUnXSA9IGJsb2IudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldmFsaWRhdGUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGUgPT09ICd1bmRlZmluZWQnIHx8IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID49IElORklOSVRFX0NBQ0hFID8gZmFsc2UgOiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cGlyZSA9IHR5cGVvZiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlID49IElORklOSVRFX0NBQ0hFID8gdW5kZWZpbmVkIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgY2FjaGUgZW50cnkgZm9yIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDogQ2FjaGVkUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEJ1ZmZlci5mcm9tKGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlRW50cnk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZW5kIHJlc3BvbnNlIHdpdGhvdXQgY2FjaGluZyBpZiBub3QgSVNSXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCByZXNwb25zZSwgY29udGV4dC5yZW5kZXJPcHRzLnBlbmRpbmdXYWl0VW50aWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhIGJhY2tncm91bmQgcmV2YWxpZGF0ZSB3ZSBuZWVkIHRvIHJlcG9ydFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcmVxdWVzdCBlcnJvciBoZXJlIGFzIGl0IHdvbid0IGJlIGJ1YmJsZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzQ2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogcHJldmlvdXNDYWNoZUVudHJ5LmlzU3RhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpbGVuY2VMb2cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ0FwcCBSb3V0ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogc3JjUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU3RhdGljR2VuZXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgc2lsZW5jZUxvZywgcm91dGVyU2VydmVyQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0gYXdhaXQgcm91dGVNb2R1bGUuaGFuZGxlUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICBuZXh0Q29uZmlnLFxuICAgICAgICAgICAgICAgIGNhY2hlS2V5LFxuICAgICAgICAgICAgICAgIHJvdXRlS2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgICAgICAgICBpc0ZhbGxiYWNrOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICBpc1JvdXRlUFBSRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VHZW5lcmF0b3IsXG4gICAgICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsLFxuICAgICAgICAgICAgICAgIGlzTWluaW1hbE1vZGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgY3JlYXRlIGEgY2FjaGVFbnRyeSBmb3IgSVNSXG4gICAgICAgICAgICBpZiAoIWlzSXNyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGNhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZS5raW5kKSAhPT0gQ2FjaGVkUm91dGVLaW5kLkFQUF9ST1VURSkge1xuICAgICAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTE7XG4gICAgICAgICAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcihgSW52YXJpYW50OiBhcHAtcm91dGUgcmVjZWl2ZWQgaW52YWxpZCBjYWNoZSBlbnRyeSAke2NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZTEgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUxLmtpbmR9YCksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFNzAxXCIsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNNaW5pbWFsTW9kZSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgaXNPbkRlbWFuZFJldmFsaWRhdGUgPyAnUkVWQUxJREFURUQnIDogY2FjaGVFbnRyeS5pc01pc3MgPyAnTUlTUycgOiBjYWNoZUVudHJ5LmlzU3RhbGUgPyAnU1RBTEUnIDogJ0hJVCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRHJhZnQgbW9kZSBzaG91bGQgbmV2ZXIgYmUgY2FjaGVkXG4gICAgICAgICAgICBpZiAoaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ3ByaXZhdGUsIG5vLWNhY2hlLCBuby1zdG9yZSwgbWF4LWFnZT0wLCBtdXN0LXJldmFsaWRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMoY2FjaGVFbnRyeS52YWx1ZS5oZWFkZXJzKTtcbiAgICAgICAgICAgIGlmICghKGlzTWluaW1hbE1vZGUgJiYgaXNJc3IpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5kZWxldGUoTkVYVF9DQUNIRV9UQUdTX0hFQURFUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBjYWNoZSBjb250cm9sIGlzIGFscmVhZHkgc2V0IG9uIHRoZSByZXNwb25zZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gb3ZlcnJpZGUgaXQgdG8gYWxsb3cgdXNlcnMgdG8gY3VzdG9taXplIGl0IHZpYSBuZXh0LmNvbmZpZ1xuICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkuY2FjaGVDb250cm9sICYmICFyZXMuZ2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJykgJiYgIWhlYWRlcnMuZ2V0KCdDYWNoZS1Db250cm9sJykpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLnNldCgnQ2FjaGUtQ29udHJvbCcsIGdldENhY2hlQ29udHJvbEhlYWRlcihjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgLy8gQHRzLWV4cGVjdC1lcnJvciAtIEFyZ3VtZW50IG9mIHR5cGUgJ0J1ZmZlcjxBcnJheUJ1ZmZlckxpa2U+JyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnQm9keUluaXQgfCBudWxsIHwgdW5kZWZpbmVkJy5cbiAgICAgICAgICAgIG5ldyBSZXNwb25zZShjYWNoZUVudHJ5LnZhbHVlLmJvZHksIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIHN0YXR1czogY2FjaGVFbnRyeS52YWx1ZS5zdGF0dXMgfHwgMjAwXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVE9ETzogYWN0aXZlU3BhbiBjb2RlIHBhdGggaXMgZm9yIHdoZW4gd3JhcHBlZCBieVxuICAgICAgICAvLyBuZXh0LXNlcnZlciBjYW4gYmUgcmVtb3ZlZCB3aGVuIHRoaXMgaXMgbm8gbG9uZ2VyIHVzZWRcbiAgICAgICAgaWYgKGFjdGl2ZVNwYW4pIHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZVJlc3BvbnNlKGFjdGl2ZVNwYW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdHJhY2VyLndpdGhQcm9wYWdhdGVkQ29udGV4dChyZXEuaGVhZGVycywgKCk9PnRyYWNlci50cmFjZShCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0LCB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW5OYW1lOiBgJHttZXRob2R9ICR7c3JjUGFnZX1gLFxuICAgICAgICAgICAgICAgICAgICBraW5kOiBTcGFuS2luZC5TRVJWRVIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLm1ldGhvZCc6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnRhcmdldCc6IHJlcS51cmxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGhhbmRsZVJlc3BvbnNlKSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKCEoZXJyIGluc3RhbmNlb2YgTm9GYWxsYmFja0Vycm9yKSkge1xuICAgICAgICAgICAgY29uc3Qgc2lsZW5jZUxvZyA9IGZhbHNlO1xuICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgcm91dGVQYXRoOiBub3JtYWxpemVkU3JjUGFnZSxcbiAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgIGlzU3RhdGljR2VuZXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSwgc2lsZW5jZUxvZywgcm91dGVyU2VydmVyQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0aHJvdyBzbyB0aGF0IHdlIGNhbiBoYW5kbGUgc2VydmluZyBlcnJvciBwYWdlXG4gICAgICAgIC8vIElmIHRoaXMgaXMgZHVyaW5nIHN0YXRpYyBnZW5lcmF0aW9uLCB0aHJvdyB0aGUgZXJyb3IgYWdhaW4uXG4gICAgICAgIGlmIChpc0lzcikgdGhyb3cgZXJyO1xuICAgICAgICAvLyBPdGhlcndpc2UsIHNlbmQgYSA1MDAgcmVzcG9uc2UuXG4gICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDUwMFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=E%3A%5Csource%5Ccanjrgultekin%5Cprofiqo%5Capps%5Cadmin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Csource%5Ccanjrgultekin%5Cprofiqo%5Capps%5Cadmin&isDev=true&tsconfigPath=&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/auth/login/route.ts":
/*!*****************************************!*\
  !*** ./src/app/api/auth/login/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n\n\nconst ACCESS_COOKIE = \"profiqo_access_token\";\nconst REFRESH_COOKIE = \"profiqo_refresh_token\";\nconst TENANT_COOKIE = \"profiqo_tenant_id\";\nconst USER_COOKIE = \"profiqo_user_id\";\nconst ROLES_COOKIE = \"profiqo_roles\";\nconst DISPLAY_NAME_COOKIE = \"profiqo_display_name\";\nconst EMAIL_COOKIE = \"profiqo_email\";\nfunction backendBaseUrl() {\n    return process.env.PROFIQO_BACKEND_URL?.trim() || \"http://localhost:5164\";\n}\nasync function safeReadJson(res) {\n    const text = await res.text();\n    if (!text) return null;\n    try {\n        return JSON.parse(text);\n    } catch  {\n        return {\n            message: text\n        };\n    }\n}\nfunction pickAccessToken(payload) {\n    const t1 = payload?.tokens?.accessToken || payload?.tokens?.token || payload?.accessToken || payload?.token || payload?.jwt;\n    const t2 = payload?.Tokens?.AccessToken || payload?.Tokens?.Token || payload?.AccessToken || payload?.Token || payload?.Jwt;\n    return t1 || t2 || null;\n}\nfunction pickExpiresAt(payload) {\n    const raw = payload?.tokens?.accessTokenExpiresAtUtc || payload?.accessTokenExpiresAtUtc || payload?.expiresAtUtc || payload?.Tokens?.AccessTokenExpiresAtUtc || payload?.AccessTokenExpiresAtUtc || payload?.ExpiresAtUtc;\n    if (!raw) return null;\n    const d = new Date(raw);\n    return Number.isNaN(d.getTime()) ? null : d;\n}\nfunction pickUserInfo(payload) {\n    const u = payload?.user || payload?.User || null;\n    const tenantId = u?.tenantId || u?.TenantId || payload?.tenantId || payload?.TenantId || null;\n    const userId = u?.userId || u?.UserId || payload?.userId || payload?.UserId || null;\n    const roles = u?.roles || u?.Roles || payload?.roles || payload?.Roles || null;\n    const displayName = u?.displayName || u?.DisplayName || payload?.displayName || payload?.DisplayName || null;\n    const email = u?.email || u?.Email || payload?.email || payload?.Email || null;\n    return {\n        tenantId,\n        userId,\n        roles,\n        displayName,\n        email\n    };\n}\n// Map numeric role codes -> names\nfunction roleNameFromCode(code) {\n    switch(code){\n        case \"1\":\n            return \"Owner\";\n        case \"2\":\n            return \"Admin\";\n        case \"3\":\n            return \"Reporting\";\n        case \"4\":\n            return \"Integration\";\n        default:\n            return null;\n    }\n}\nfunction normalizeRolesToString(roles) {\n    if (!roles) return null;\n    const out = [];\n    if (Array.isArray(roles)) {\n        for (const r of roles){\n            const s = String(r).trim();\n            if (!s) continue;\n            if ([\n                \"Owner\",\n                \"Admin\",\n                \"Reporting\",\n                \"Integration\"\n            ].includes(s)) {\n                out.push(s);\n                continue;\n            }\n            const mapped = roleNameFromCode(s);\n            if (mapped) out.push(mapped);\n        }\n    } else {\n        const s = String(roles).trim();\n        if ([\n            \"Owner\",\n            \"Admin\",\n            \"Reporting\",\n            \"Integration\"\n        ].includes(s)) out.push(s);\n        else {\n            const mapped = roleNameFromCode(s);\n            if (mapped) out.push(mapped);\n        }\n    }\n    const distinct = Array.from(new Set(out));\n    return distinct.length ? distinct.join(\",\") : null;\n}\nfunction tryGetRolesFromJwt(accessToken) {\n    try {\n        const parts = accessToken.split(\".\");\n        if (parts.length < 2) return null;\n        const payloadB64 = parts[1].replace(/-/g, \"+\").replace(/_/g, \"/\").padEnd(Math.ceil(parts[1].length / 4) * 4, \"=\");\n        const json = Buffer.from(payloadB64, \"base64\").toString(\"utf8\");\n        const payload = JSON.parse(json);\n        const candidates = payload?.roles ?? payload?.role ?? payload?.Roles ?? payload?.Role ?? payload?.[\"http://schemas.microsoft.com/ws/2008/06/identity/claims/role\"] ?? null;\n        return normalizeRolesToString(candidates);\n    } catch  {\n        return null;\n    }\n}\nasync function POST(req) {\n    const body = await req.json().catch(()=>null);\n    const tenantSlug = body?.tenantSlug?.trim() || \"\";\n    const email = body?.email?.trim() || \"\";\n    const password = body?.password || \"\";\n    const remember = Boolean(body?.remember);\n    if (!tenantSlug || !email || !password) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            message: \"Tenant slug, email ve ifre zorunlu.\"\n        }, {\n            status: 400\n        });\n    }\n    const upstream = await fetch(`${backendBaseUrl()}/api/auth/login`, {\n        method: \"POST\",\n        headers: {\n            \"content-type\": \"application/json\"\n        },\n        cache: \"no-store\",\n        body: JSON.stringify({\n            tenantSlug,\n            email,\n            password\n        })\n    }).catch(()=>null);\n    if (!upstream) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            message: \"Backend eriilemiyor (network).\"\n        }, {\n            status: 502\n        });\n    }\n    const payload = await safeReadJson(upstream);\n    if (!upstream.ok) {\n        const msg = payload?.message || payload?.title || payload?.detail || \"Login baarsz.\";\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            message: msg,\n            errors: payload?.errors ?? payload?.extensions?.errors ?? null\n        }, {\n            status: upstream.status\n        });\n    }\n    const accessToken = pickAccessToken(payload);\n    if (!accessToken) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            message: \"Backend login response iinde access token yok.\"\n        }, {\n            status: 500\n        });\n    }\n    const expiresAt = pickExpiresAt(payload);\n    const { tenantId, userId, roles, displayName, email: userEmail } = pickUserInfo(payload);\n    const isProd = \"development\" === \"production\";\n    const res = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        ok: true,\n        tenantId,\n        userId,\n        roles\n    });\n    const longMaxAge = 30 * 24 * 60 * 60;\n    // Access token cookie\n    if (expiresAt) {\n        res.cookies.set(ACCESS_COOKIE, accessToken, {\n            httpOnly: true,\n            secure: isProd,\n            sameSite: \"lax\",\n            path: \"/\",\n            expires: expiresAt\n        });\n    } else {\n        res.cookies.set(ACCESS_COOKIE, accessToken, {\n            httpOnly: true,\n            secure: isProd,\n            sameSite: \"lax\",\n            path: \"/\",\n            maxAge: 60 * 60\n        });\n    }\n    // Tenant/User cookies\n    if (tenantId) {\n        res.cookies.set(TENANT_COOKIE, tenantId, {\n            httpOnly: true,\n            secure: isProd,\n            sameSite: \"lax\",\n            path: \"/\",\n            maxAge: longMaxAge\n        });\n    }\n    if (userId) {\n        res.cookies.set(USER_COOKIE, userId, {\n            httpOnly: true,\n            secure: isProd,\n            sameSite: \"lax\",\n            path: \"/\",\n            maxAge: longMaxAge\n        });\n    }\n    // User display info cookies\n    if (displayName) {\n        res.cookies.set(DISPLAY_NAME_COOKIE, displayName, {\n            httpOnly: true,\n            secure: isProd,\n            sameSite: \"lax\",\n            path: \"/\",\n            maxAge: longMaxAge\n        });\n    }\n    if (userEmail) {\n        res.cookies.set(EMAIL_COOKIE, userEmail, {\n            httpOnly: true,\n            secure: isProd,\n            sameSite: \"lax\",\n            path: \"/\",\n            maxAge: longMaxAge\n        });\n    }\n    // Roles cookie for middleware RBAC\n    let rolesStr = normalizeRolesToString(roles);\n    if (!rolesStr) {\n        rolesStr = tryGetRolesFromJwt(accessToken);\n    }\n    if (rolesStr) {\n        res.cookies.set(ROLES_COOKIE, rolesStr, {\n            httpOnly: true,\n            secure: isProd,\n            sameSite: \"lax\",\n            path: \"/\",\n            maxAge: longMaxAge\n        });\n    } else {\n        res.cookies.set(ROLES_COOKIE, \"\", {\n            httpOnly: true,\n            secure: isProd,\n            sameSite: \"lax\",\n            path: \"/\",\n            maxAge: 0\n        });\n    }\n    // Refresh token handling\n    if (!remember) {\n        res.cookies.set(REFRESH_COOKIE, \"\", {\n            httpOnly: true,\n            secure: isProd,\n            sameSite: \"lax\",\n            path: \"/\",\n            maxAge: 0\n        });\n    }\n    await (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n    return res;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cURBQU9BO0lBRWIsT0FBT2M7QUFDVCIsInNvdXJjZXMiOlsiRTpcXHNvdXJjZVxcY2FuanJndWx0ZWtpblxccHJvZmlxb1xcYXBwc1xcYWRtaW5cXHNyY1xcYXBwXFxhcGlcXGF1dGhcXGxvZ2luXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgY29va2llcyB9IGZyb20gXCJuZXh0L2hlYWRlcnNcIjtcclxuXHJcbnR5cGUgTG9naW5SZXF1ZXN0ID0ge1xyXG4gIHRlbmFudFNsdWc/OiBzdHJpbmc7XHJcbiAgZW1haWw/OiBzdHJpbmc7XHJcbiAgcGFzc3dvcmQ/OiBzdHJpbmc7XHJcbiAgcmVtZW1iZXI/OiBib29sZWFuO1xyXG59O1xyXG5cclxuY29uc3QgQUNDRVNTX0NPT0tJRSA9IFwicHJvZmlxb19hY2Nlc3NfdG9rZW5cIjtcclxuY29uc3QgUkVGUkVTSF9DT09LSUUgPSBcInByb2ZpcW9fcmVmcmVzaF90b2tlblwiO1xyXG5jb25zdCBURU5BTlRfQ09PS0lFID0gXCJwcm9maXFvX3RlbmFudF9pZFwiO1xyXG5jb25zdCBVU0VSX0NPT0tJRSA9IFwicHJvZmlxb191c2VyX2lkXCI7XHJcbmNvbnN0IFJPTEVTX0NPT0tJRSA9IFwicHJvZmlxb19yb2xlc1wiO1xyXG5jb25zdCBESVNQTEFZX05BTUVfQ09PS0lFID0gXCJwcm9maXFvX2Rpc3BsYXlfbmFtZVwiO1xyXG5jb25zdCBFTUFJTF9DT09LSUUgPSBcInByb2ZpcW9fZW1haWxcIjtcclxuXHJcbmZ1bmN0aW9uIGJhY2tlbmRCYXNlVXJsKCk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIHByb2Nlc3MuZW52LlBST0ZJUU9fQkFDS0VORF9VUkw/LnRyaW0oKSB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6NTE2NFwiO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzYWZlUmVhZEpzb24ocmVzOiBSZXNwb25zZSk6IFByb21pc2U8YW55PiB7XHJcbiAgY29uc3QgdGV4dCA9IGF3YWl0IHJlcy50ZXh0KCk7XHJcbiAgaWYgKCF0ZXh0KSByZXR1cm4gbnVsbDtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGV4dCk7XHJcbiAgfSBjYXRjaCB7XHJcbiAgICByZXR1cm4geyBtZXNzYWdlOiB0ZXh0IH07XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBwaWNrQWNjZXNzVG9rZW4ocGF5bG9hZDogYW55KTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgY29uc3QgdDEgPVxyXG4gICAgcGF5bG9hZD8udG9rZW5zPy5hY2Nlc3NUb2tlbiB8fFxyXG4gICAgcGF5bG9hZD8udG9rZW5zPy50b2tlbiB8fFxyXG4gICAgcGF5bG9hZD8uYWNjZXNzVG9rZW4gfHxcclxuICAgIHBheWxvYWQ/LnRva2VuIHx8XHJcbiAgICBwYXlsb2FkPy5qd3Q7XHJcblxyXG4gIGNvbnN0IHQyID1cclxuICAgIHBheWxvYWQ/LlRva2Vucz8uQWNjZXNzVG9rZW4gfHxcclxuICAgIHBheWxvYWQ/LlRva2Vucz8uVG9rZW4gfHxcclxuICAgIHBheWxvYWQ/LkFjY2Vzc1Rva2VuIHx8XHJcbiAgICBwYXlsb2FkPy5Ub2tlbiB8fFxyXG4gICAgcGF5bG9hZD8uSnd0O1xyXG5cclxuICByZXR1cm4gKHQxIHx8IHQyIHx8IG51bGwpIGFzIHN0cmluZyB8IG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBpY2tFeHBpcmVzQXQocGF5bG9hZDogYW55KTogRGF0ZSB8IG51bGwge1xyXG4gIGNvbnN0IHJhdyA9XHJcbiAgICBwYXlsb2FkPy50b2tlbnM/LmFjY2Vzc1Rva2VuRXhwaXJlc0F0VXRjIHx8XHJcbiAgICBwYXlsb2FkPy5hY2Nlc3NUb2tlbkV4cGlyZXNBdFV0YyB8fFxyXG4gICAgcGF5bG9hZD8uZXhwaXJlc0F0VXRjIHx8XHJcbiAgICBwYXlsb2FkPy5Ub2tlbnM/LkFjY2Vzc1Rva2VuRXhwaXJlc0F0VXRjIHx8XHJcbiAgICBwYXlsb2FkPy5BY2Nlc3NUb2tlbkV4cGlyZXNBdFV0YyB8fFxyXG4gICAgcGF5bG9hZD8uRXhwaXJlc0F0VXRjO1xyXG5cclxuICBpZiAoIXJhdykgcmV0dXJuIG51bGw7XHJcbiAgY29uc3QgZCA9IG5ldyBEYXRlKHJhdyk7XHJcbiAgcmV0dXJuIE51bWJlci5pc05hTihkLmdldFRpbWUoKSkgPyBudWxsIDogZDtcclxufVxyXG5cclxuZnVuY3Rpb24gcGlja1VzZXJJbmZvKHBheWxvYWQ6IGFueSk6IHtcclxuICB0ZW5hbnRJZDogc3RyaW5nIHwgbnVsbDtcclxuICB1c2VySWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgcm9sZXM6IGFueTtcclxuICBkaXNwbGF5TmFtZTogc3RyaW5nIHwgbnVsbDtcclxuICBlbWFpbDogc3RyaW5nIHwgbnVsbDtcclxufSB7XHJcbiAgY29uc3QgdSA9IHBheWxvYWQ/LnVzZXIgfHwgcGF5bG9hZD8uVXNlciB8fCBudWxsO1xyXG5cclxuICBjb25zdCB0ZW5hbnRJZCA9XHJcbiAgICB1Py50ZW5hbnRJZCB8fCB1Py5UZW5hbnRJZCB8fCBwYXlsb2FkPy50ZW5hbnRJZCB8fCBwYXlsb2FkPy5UZW5hbnRJZCB8fCBudWxsO1xyXG5cclxuICBjb25zdCB1c2VySWQgPVxyXG4gICAgdT8udXNlcklkIHx8IHU/LlVzZXJJZCB8fCBwYXlsb2FkPy51c2VySWQgfHwgcGF5bG9hZD8uVXNlcklkIHx8IG51bGw7XHJcblxyXG4gIGNvbnN0IHJvbGVzID0gdT8ucm9sZXMgfHwgdT8uUm9sZXMgfHwgcGF5bG9hZD8ucm9sZXMgfHwgcGF5bG9hZD8uUm9sZXMgfHwgbnVsbDtcclxuXHJcbiAgY29uc3QgZGlzcGxheU5hbWUgPVxyXG4gICAgdT8uZGlzcGxheU5hbWUgfHwgdT8uRGlzcGxheU5hbWUgfHwgcGF5bG9hZD8uZGlzcGxheU5hbWUgfHwgcGF5bG9hZD8uRGlzcGxheU5hbWUgfHwgbnVsbDtcclxuXHJcbiAgY29uc3QgZW1haWwgPVxyXG4gICAgdT8uZW1haWwgfHwgdT8uRW1haWwgfHwgcGF5bG9hZD8uZW1haWwgfHwgcGF5bG9hZD8uRW1haWwgfHwgbnVsbDtcclxuXHJcbiAgcmV0dXJuIHsgdGVuYW50SWQsIHVzZXJJZCwgcm9sZXMsIGRpc3BsYXlOYW1lLCBlbWFpbCB9O1xyXG59XHJcblxyXG4vLyBNYXAgbnVtZXJpYyByb2xlIGNvZGVzIC0+IG5hbWVzXHJcbmZ1bmN0aW9uIHJvbGVOYW1lRnJvbUNvZGUoY29kZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgc3dpdGNoIChjb2RlKSB7XHJcbiAgICBjYXNlIFwiMVwiOiByZXR1cm4gXCJPd25lclwiO1xyXG4gICAgY2FzZSBcIjJcIjogcmV0dXJuIFwiQWRtaW5cIjtcclxuICAgIGNhc2UgXCIzXCI6IHJldHVybiBcIlJlcG9ydGluZ1wiO1xyXG4gICAgY2FzZSBcIjRcIjogcmV0dXJuIFwiSW50ZWdyYXRpb25cIjtcclxuICAgIGRlZmF1bHQ6IHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbm9ybWFsaXplUm9sZXNUb1N0cmluZyhyb2xlczogYW55KTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgaWYgKCFyb2xlcykgcmV0dXJuIG51bGw7XHJcblxyXG4gIGNvbnN0IG91dDogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgaWYgKEFycmF5LmlzQXJyYXkocm9sZXMpKSB7XHJcbiAgICBmb3IgKGNvbnN0IHIgb2Ygcm9sZXMpIHtcclxuICAgICAgY29uc3QgcyA9IFN0cmluZyhyKS50cmltKCk7XHJcbiAgICAgIGlmICghcykgY29udGludWU7XHJcblxyXG4gICAgICBpZiAoW1wiT3duZXJcIiwgXCJBZG1pblwiLCBcIlJlcG9ydGluZ1wiLCBcIkludGVncmF0aW9uXCJdLmluY2x1ZGVzKHMpKSB7XHJcbiAgICAgICAgb3V0LnB1c2gocyk7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IG1hcHBlZCA9IHJvbGVOYW1lRnJvbUNvZGUocyk7XHJcbiAgICAgIGlmIChtYXBwZWQpIG91dC5wdXNoKG1hcHBlZCk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IHMgPSBTdHJpbmcocm9sZXMpLnRyaW0oKTtcclxuICAgIGlmIChbXCJPd25lclwiLCBcIkFkbWluXCIsIFwiUmVwb3J0aW5nXCIsIFwiSW50ZWdyYXRpb25cIl0uaW5jbHVkZXMocykpIG91dC5wdXNoKHMpO1xyXG4gICAgZWxzZSB7XHJcbiAgICAgIGNvbnN0IG1hcHBlZCA9IHJvbGVOYW1lRnJvbUNvZGUocyk7XHJcbiAgICAgIGlmIChtYXBwZWQpIG91dC5wdXNoKG1hcHBlZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBkaXN0aW5jdCA9IEFycmF5LmZyb20obmV3IFNldChvdXQpKTtcclxuICByZXR1cm4gZGlzdGluY3QubGVuZ3RoID8gZGlzdGluY3Quam9pbihcIixcIikgOiBudWxsO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0cnlHZXRSb2xlc0Zyb21Kd3QoYWNjZXNzVG9rZW46IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwYXJ0cyA9IGFjY2Vzc1Rva2VuLnNwbGl0KFwiLlwiKTtcclxuICAgIGlmIChwYXJ0cy5sZW5ndGggPCAyKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICBjb25zdCBwYXlsb2FkQjY0ID0gcGFydHNbMV1cclxuICAgICAgLnJlcGxhY2UoLy0vZywgXCIrXCIpXHJcbiAgICAgIC5yZXBsYWNlKC9fL2csIFwiL1wiKVxyXG4gICAgICAucGFkRW5kKE1hdGguY2VpbChwYXJ0c1sxXS5sZW5ndGggLyA0KSAqIDQsIFwiPVwiKTtcclxuXHJcbiAgICBjb25zdCBqc29uID0gQnVmZmVyLmZyb20ocGF5bG9hZEI2NCwgXCJiYXNlNjRcIikudG9TdHJpbmcoXCJ1dGY4XCIpO1xyXG4gICAgY29uc3QgcGF5bG9hZCA9IEpTT04ucGFyc2UoanNvbik7XHJcblxyXG4gICAgY29uc3QgY2FuZGlkYXRlcyA9XHJcbiAgICAgIHBheWxvYWQ/LnJvbGVzID8/XHJcbiAgICAgIHBheWxvYWQ/LnJvbGUgPz9cclxuICAgICAgcGF5bG9hZD8uUm9sZXMgPz9cclxuICAgICAgcGF5bG9hZD8uUm9sZSA/P1xyXG4gICAgICBwYXlsb2FkPy5bXCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGVcIl0gPz9cclxuICAgICAgbnVsbDtcclxuXHJcbiAgICByZXR1cm4gbm9ybWFsaXplUm9sZXNUb1N0cmluZyhjYW5kaWRhdGVzKTtcclxuICB9IGNhdGNoIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBSZXF1ZXN0KSB7XHJcbiAgY29uc3QgYm9keSA9IChhd2FpdCByZXEuanNvbigpLmNhdGNoKCgpID0+IG51bGwpKSBhcyBMb2dpblJlcXVlc3QgfCBudWxsO1xyXG5cclxuICBjb25zdCB0ZW5hbnRTbHVnID0gYm9keT8udGVuYW50U2x1Zz8udHJpbSgpIHx8IFwiXCI7XHJcbiAgY29uc3QgZW1haWwgPSBib2R5Py5lbWFpbD8udHJpbSgpIHx8IFwiXCI7XHJcbiAgY29uc3QgcGFzc3dvcmQgPSBib2R5Py5wYXNzd29yZCB8fCBcIlwiO1xyXG4gIGNvbnN0IHJlbWVtYmVyID0gQm9vbGVhbihib2R5Py5yZW1lbWJlcik7XHJcblxyXG4gIGlmICghdGVuYW50U2x1ZyB8fCAhZW1haWwgfHwgIXBhc3N3b3JkKSB7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgb2s6IGZhbHNlLCBtZXNzYWdlOiBcIlRlbmFudCBzbHVnLCBlbWFpbCB2ZSDFn2lmcmUgem9ydW5sdS5cIiB9LFxyXG4gICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB1cHN0cmVhbSA9IGF3YWl0IGZldGNoKGAke2JhY2tlbmRCYXNlVXJsKCl9L2FwaS9hdXRoL2xvZ2luYCwge1xyXG4gICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgIGhlYWRlcnM6IHsgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHRlbmFudFNsdWcsIGVtYWlsLCBwYXNzd29yZCB9KSxcclxuICB9KS5jYXRjaCgoKSA9PiBudWxsKTtcclxuXHJcbiAgaWYgKCF1cHN0cmVhbSkge1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IG9rOiBmYWxzZSwgbWVzc2FnZTogXCJCYWNrZW5kIGVyacWfaWxlbWl5b3IgKG5ldHdvcmspLlwiIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDIgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHBheWxvYWQgPSBhd2FpdCBzYWZlUmVhZEpzb24odXBzdHJlYW0pO1xyXG5cclxuICBpZiAoIXVwc3RyZWFtLm9rKSB7XHJcbiAgICBjb25zdCBtc2cgPVxyXG4gICAgICBwYXlsb2FkPy5tZXNzYWdlIHx8XHJcbiAgICAgIHBheWxvYWQ/LnRpdGxlIHx8XHJcbiAgICAgIHBheWxvYWQ/LmRldGFpbCB8fFxyXG4gICAgICBcIkxvZ2luIGJhxZ9hcsSxc8Sxei5cIjtcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgb2s6IGZhbHNlLCBtZXNzYWdlOiBtc2csIGVycm9yczogcGF5bG9hZD8uZXJyb3JzID8/IHBheWxvYWQ/LmV4dGVuc2lvbnM/LmVycm9ycyA/PyBudWxsIH0sXHJcbiAgICAgIHsgc3RhdHVzOiB1cHN0cmVhbS5zdGF0dXMgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGFjY2Vzc1Rva2VuID0gcGlja0FjY2Vzc1Rva2VuKHBheWxvYWQpO1xyXG4gIGlmICghYWNjZXNzVG9rZW4pIHtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBvazogZmFsc2UsIG1lc3NhZ2U6IFwiQmFja2VuZCBsb2dpbiByZXNwb25zZSBpw6dpbmRlIGFjY2VzcyB0b2tlbiB5b2suXCIgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZXhwaXJlc0F0ID0gcGlja0V4cGlyZXNBdChwYXlsb2FkKTtcclxuICBjb25zdCB7IHRlbmFudElkLCB1c2VySWQsIHJvbGVzLCBkaXNwbGF5TmFtZSwgZW1haWw6IHVzZXJFbWFpbCB9ID0gcGlja1VzZXJJbmZvKHBheWxvYWQpO1xyXG5cclxuICBjb25zdCBpc1Byb2QgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCI7XHJcbiAgY29uc3QgcmVzID0gTmV4dFJlc3BvbnNlLmpzb24oeyBvazogdHJ1ZSwgdGVuYW50SWQsIHVzZXJJZCwgcm9sZXMgfSk7XHJcblxyXG4gIGNvbnN0IGxvbmdNYXhBZ2UgPSAzMCAqIDI0ICogNjAgKiA2MDtcclxuXHJcbiAgLy8gQWNjZXNzIHRva2VuIGNvb2tpZVxyXG4gIGlmIChleHBpcmVzQXQpIHtcclxuICAgIHJlcy5jb29raWVzLnNldChBQ0NFU1NfQ09PS0lFLCBhY2Nlc3NUb2tlbiwge1xyXG4gICAgICBodHRwT25seTogdHJ1ZSxcclxuICAgICAgc2VjdXJlOiBpc1Byb2QsXHJcbiAgICAgIHNhbWVTaXRlOiBcImxheFwiLFxyXG4gICAgICBwYXRoOiBcIi9cIixcclxuICAgICAgZXhwaXJlczogZXhwaXJlc0F0LFxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5jb29raWVzLnNldChBQ0NFU1NfQ09PS0lFLCBhY2Nlc3NUb2tlbiwge1xyXG4gICAgICBodHRwT25seTogdHJ1ZSxcclxuICAgICAgc2VjdXJlOiBpc1Byb2QsXHJcbiAgICAgIHNhbWVTaXRlOiBcImxheFwiLFxyXG4gICAgICBwYXRoOiBcIi9cIixcclxuICAgICAgbWF4QWdlOiA2MCAqIDYwLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBUZW5hbnQvVXNlciBjb29raWVzXHJcbiAgaWYgKHRlbmFudElkKSB7XHJcbiAgICByZXMuY29va2llcy5zZXQoVEVOQU5UX0NPT0tJRSwgdGVuYW50SWQsIHtcclxuICAgICAgaHR0cE9ubHk6IHRydWUsIHNlY3VyZTogaXNQcm9kLCBzYW1lU2l0ZTogXCJsYXhcIiwgcGF0aDogXCIvXCIsIG1heEFnZTogbG9uZ01heEFnZSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKHVzZXJJZCkge1xyXG4gICAgcmVzLmNvb2tpZXMuc2V0KFVTRVJfQ09PS0lFLCB1c2VySWQsIHtcclxuICAgICAgaHR0cE9ubHk6IHRydWUsIHNlY3VyZTogaXNQcm9kLCBzYW1lU2l0ZTogXCJsYXhcIiwgcGF0aDogXCIvXCIsIG1heEFnZTogbG9uZ01heEFnZSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gVXNlciBkaXNwbGF5IGluZm8gY29va2llc1xyXG4gIGlmIChkaXNwbGF5TmFtZSkge1xyXG4gICAgcmVzLmNvb2tpZXMuc2V0KERJU1BMQVlfTkFNRV9DT09LSUUsIGRpc3BsYXlOYW1lLCB7XHJcbiAgICAgIGh0dHBPbmx5OiB0cnVlLCBzZWN1cmU6IGlzUHJvZCwgc2FtZVNpdGU6IFwibGF4XCIsIHBhdGg6IFwiL1wiLCBtYXhBZ2U6IGxvbmdNYXhBZ2UsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGlmICh1c2VyRW1haWwpIHtcclxuICAgIHJlcy5jb29raWVzLnNldChFTUFJTF9DT09LSUUsIHVzZXJFbWFpbCwge1xyXG4gICAgICBodHRwT25seTogdHJ1ZSwgc2VjdXJlOiBpc1Byb2QsIHNhbWVTaXRlOiBcImxheFwiLCBwYXRoOiBcIi9cIiwgbWF4QWdlOiBsb25nTWF4QWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBSb2xlcyBjb29raWUgZm9yIG1pZGRsZXdhcmUgUkJBQ1xyXG4gIGxldCByb2xlc1N0ciA9IG5vcm1hbGl6ZVJvbGVzVG9TdHJpbmcocm9sZXMpO1xyXG4gIGlmICghcm9sZXNTdHIpIHtcclxuICAgIHJvbGVzU3RyID0gdHJ5R2V0Um9sZXNGcm9tSnd0KGFjY2Vzc1Rva2VuKTtcclxuICB9XHJcblxyXG4gIGlmIChyb2xlc1N0cikge1xyXG4gICAgcmVzLmNvb2tpZXMuc2V0KFJPTEVTX0NPT0tJRSwgcm9sZXNTdHIsIHtcclxuICAgICAgaHR0cE9ubHk6IHRydWUsIHNlY3VyZTogaXNQcm9kLCBzYW1lU2l0ZTogXCJsYXhcIiwgcGF0aDogXCIvXCIsIG1heEFnZTogbG9uZ01heEFnZSxcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuY29va2llcy5zZXQoUk9MRVNfQ09PS0lFLCBcIlwiLCB7XHJcbiAgICAgIGh0dHBPbmx5OiB0cnVlLCBzZWN1cmU6IGlzUHJvZCwgc2FtZVNpdGU6IFwibGF4XCIsIHBhdGg6IFwiL1wiLCBtYXhBZ2U6IDAsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIFJlZnJlc2ggdG9rZW4gaGFuZGxpbmdcclxuICBpZiAoIXJlbWVtYmVyKSB7XHJcbiAgICByZXMuY29va2llcy5zZXQoUkVGUkVTSF9DT09LSUUsIFwiXCIsIHtcclxuICAgICAgaHR0cE9ubHk6IHRydWUsIHNlY3VyZTogaXNQcm9kLCBzYW1lU2l0ZTogXCJsYXhcIiwgcGF0aDogXCIvXCIsIG1heEFnZTogMCxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYXdhaXQgY29va2llcygpO1xyXG5cclxuICByZXR1cm4gcmVzO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjb29raWVzIiwiQUNDRVNTX0NPT0tJRSIsIlJFRlJFU0hfQ09PS0lFIiwiVEVOQU5UX0NPT0tJRSIsIlVTRVJfQ09PS0lFIiwiUk9MRVNfQ09PS0lFIiwiRElTUExBWV9OQU1FX0NPT0tJRSIsIkVNQUlMX0NPT0tJRSIsImJhY2tlbmRCYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIlBST0ZJUU9fQkFDS0VORF9VUkwiLCJ0cmltIiwic2FmZVJlYWRKc29uIiwicmVzIiwidGV4dCIsIkpTT04iLCJwYXJzZSIsIm1lc3NhZ2UiLCJwaWNrQWNjZXNzVG9rZW4iLCJwYXlsb2FkIiwidDEiLCJ0b2tlbnMiLCJhY2Nlc3NUb2tlbiIsInRva2VuIiwiand0IiwidDIiLCJUb2tlbnMiLCJBY2Nlc3NUb2tlbiIsIlRva2VuIiwiSnd0IiwicGlja0V4cGlyZXNBdCIsInJhdyIsImFjY2Vzc1Rva2VuRXhwaXJlc0F0VXRjIiwiZXhwaXJlc0F0VXRjIiwiQWNjZXNzVG9rZW5FeHBpcmVzQXRVdGMiLCJFeHBpcmVzQXRVdGMiLCJkIiwiRGF0ZSIsIk51bWJlciIsImlzTmFOIiwiZ2V0VGltZSIsInBpY2tVc2VySW5mbyIsInUiLCJ1c2VyIiwiVXNlciIsInRlbmFudElkIiwiVGVuYW50SWQiLCJ1c2VySWQiLCJVc2VySWQiLCJyb2xlcyIsIlJvbGVzIiwiZGlzcGxheU5hbWUiLCJEaXNwbGF5TmFtZSIsImVtYWlsIiwiRW1haWwiLCJyb2xlTmFtZUZyb21Db2RlIiwiY29kZSIsIm5vcm1hbGl6ZVJvbGVzVG9TdHJpbmciLCJvdXQiLCJBcnJheSIsImlzQXJyYXkiLCJyIiwicyIsIlN0cmluZyIsImluY2x1ZGVzIiwicHVzaCIsIm1hcHBlZCIsImRpc3RpbmN0IiwiZnJvbSIsIlNldCIsImxlbmd0aCIsImpvaW4iLCJ0cnlHZXRSb2xlc0Zyb21Kd3QiLCJwYXJ0cyIsInNwbGl0IiwicGF5bG9hZEI2NCIsInJlcGxhY2UiLCJwYWRFbmQiLCJNYXRoIiwiY2VpbCIsImpzb24iLCJCdWZmZXIiLCJ0b1N0cmluZyIsImNhbmRpZGF0ZXMiLCJyb2xlIiwiUm9sZSIsIlBPU1QiLCJyZXEiLCJib2R5IiwiY2F0Y2giLCJ0ZW5hbnRTbHVnIiwicGFzc3dvcmQiLCJyZW1lbWJlciIsIkJvb2xlYW4iLCJvayIsInN0YXR1cyIsInVwc3RyZWFtIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiY2FjaGUiLCJzdHJpbmdpZnkiLCJtc2ciLCJ0aXRsZSIsImRldGFpbCIsImVycm9ycyIsImV4dGVuc2lvbnMiLCJleHBpcmVzQXQiLCJ1c2VyRW1haWwiLCJpc1Byb2QiLCJsb25nTWF4QWdlIiwic2V0IiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJzYW1lU2l0ZSIsInBhdGgiLCJleHBpcmVzIiwibWF4QWdlIiwicm9sZXNTdHIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/login/route.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=E%3A%5Csource%5Ccanjrgultekin%5Cprofiqo%5Capps%5Cadmin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Csource%5Ccanjrgultekin%5Cprofiqo%5Capps%5Cadmin&isDev=true&tsconfigPath=&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();